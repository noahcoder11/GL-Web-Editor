<script>
    localStorage.setItem(`GL_WEB_EDITOR::CODE_CACHE::vertex-shader`, `// Retrieve attribute with "@attributeName"
var vertex = @position;

// Retrieve uniform with "#uniformName"
var projection = #projection;

// Rotate Y function
function rotY(x, y, z, theta){
    var output = [];
    
    // Same but replacing Y with Z
    
    output[0] = x * Math.cos(theta) - z * Math.sin(theta);
    output[1] = y;
    output[2] = z * Math.cos(theta) + x * Math.sin(theta);
    
    return output;
}

console.log(frameCount)

// Scale vertices
var x = vertex[0] * 50, y = vertex[1] * 50, z = vertex[2] * 50
// Rotate
vertex = rotY(x, y, z, frameCount/10)

// Translate to farther z for better viewing
vertex[2] += 200

// Simply return the vertex after performing any transformations
return [
    600 + vertex[0] / vertex[2] * 200,
    200 + vertex[1] / vertex[2] * 200,
    vertex[2]
];`)
    localStorage.setItem(`GL_WEB_EDITOR::CODE_CACHE::fragment-shader`, `return [255, 0, 0, 255];`)
    localStorage.setItem(`GL_WEB_EDITOR::CODE_CACHE::javascript`, `var vertices = [
   -1,-1, 1,
    1,-1, 1,
    1, 1, 1,
   -1, 1, 1,
    
   -1,-1,-1,
    1,-1,-1,
    1, 1,-1,
   -1, 1,-1,
],
indices = [
    1, 0, 2,
    0, 3, 2,
    
    4, 5, 6,
    4, 6, 7,
]

// Create the buffers
vBuffer = vertices,
tBuffer = new VariableLengthBuffer(indices, 3),

// Create the shader objects
fragShaderObject = new ShaderObject(),
vertexShaderObject = new ShaderObject();

vertexShaderObject.attribute("position", vertices, 3)

// Set the vertex shader parameters
vertexShaderObject.uniform("projection", GL.getProjection(100, width/height, 0.1, 1000));`)
    window.open("https://noahcoder11.github.io/GL-Web-Editor/")
</script>